echo "ğŸš€ Running pre-push checks (full CI simulation)..."

# Run all formatting
echo "ğŸ“ Checking all code formatting..."
npm run format || {
  echo "âŒ Formatting check failed."
  exit 1
}

# Run TypeScript type checking
echo "ğŸ”§ Running TypeScript type check..."
npx tsc --noEmit || {
  echo "âŒ TypeScript type check failed."
  exit 1
}

# Run all tests
echo "ğŸ§ª Running all tests..."
CI=true npm test -- --run --passWithNoTests || {
  echo "âŒ Tests failed."
  exit 1
}

# Run production build
echo "ğŸ—ï¸  Building project..."
npm run build || {
  echo "âŒ Build failed."
  exit 1
}

echo "âœ… All pre-push checks passed! Ready to push."
